$(function() {
	if(isBrowser().ie < 9) {
		adjustStyle($(this).width());
		$(window).resize(function() {
			adjustStyle($(this).width());
		});
	}
});

function adjustStyle(width){
	width = parseInt(width);
	//if (width >= 1200) {alert(">=1200")} else if(width>=992 && width<=1199){alert("<=1199")}else if(width>=768 && width<=991){alert("<=991")}else{alert("<=767")}
	if (width >= 1200) {reload("w1200");} else if(width>=992 && width<=1199){reload("w992");}else if(width>=768 && width<=991){reload("w768");}else{reload("w767");}
	//alert($('body').attr("class"));
}
function reload(cssName){
	if ($('body').hasClass("w1200") && cssName != "w1200"){
		$('body').removeClass("w1200");
	}
	if ($('body').hasClass("w992") && cssName != "w992"){
		$('body').removeClass("w992");
	}
	if ($('body').hasClass("w768") && cssName != "w768"){
		$('body').removeClass("w768");
	}
	if ($('body').hasClass("w767") && cssName != "w767"){
		$('body').removeClass("w767");
	}
	if (!$('body').hasClass(cssName)) {
		$('body').addClass(cssName);
	}
}

/** js中的Array添加定位 **/
Array.prototype.indexOf = function(val) {
	for (var i = 0; i < this.length; i++) {
		if (typeof(val) != "undefined" && val.length > 0 && val.indexOf("*") == 0 && val.lastIndexOf("*") == (val.length - 1)) {
			var defaultVal = val.split('*').join('');
			if (this[i].indexOf(defaultVal) > -1) {
				return i;
			}
		} else {
			if (this[i] == val) {
				return i;
			}
		}
	}
	return -1;
};
/** js中的Array判断是否包含 **/
Array.prototype.contains = function(val) {
	for (var i = 0; i < this.length; i++) {
		if (typeof(val) != "undefined" && val.length > 0 && val.indexOf("*") == 0 && val.lastIndexOf("*") == (val.length - 1)) {
			var defaultVal = val.split('*').join('');
			if (this[i].indexOf(defaultVal) > -1) {
				return true;
			}
		} else {
			if (this[i] == val) {
				return true;
			}
		}
	}
	return false;
};
/** js中的Array删除属性 **/
Array.prototype.remove = function(val) {
	var index = this.indexOf(val);
	if (index > -1) {
		this.splice(index, 1);
	}
};

//=============================================================
//   功能：修改 window.setTimeout 使之可以传递参数和对象参数
//   方法：setTimeout(回调函数,时间,参数1,...,参数n)参数可为对象:如数组等
//=============================================================
var __setTimeout = setTimeout;
window.setTimeout = function(callback,millisec,param) {
	var args = Array.prototype.slice.call(arguments,2);
	var _cb = function() {
		callback.apply(null,args);
	}
	return __setTimeout(_cb,millisec);
};

//=============================================================
//   功能：修改 window.setInterval 使之可以传递参数和对象参数
//   方法：setInterval(回调函数,时间,参数1,...,参数n)参数可为对象:如数组等
//=============================================================
var __setInterval = setInterval;
window.setInterval = function(callback,millisec,param) {
	var args = Array.prototype.slice.call(arguments,2);
	var _cb = function() {
		callback.apply(null,args);
	}
	return __setInterval(_cb,millisec);
};

$.fn.rmClass = function(className) {
	var cName = className.split('*').join('');
	$(this).removeClass(function(index, classNames){
		var classNameArr = classNames.split(" ");
		var removeNames = "";
		for (var i = 0; i < classNameArr.length; i++) {
			if (classNameArr[i].indexOf(cName) > -1) {
				removeNames = ("" == removeNames) ? classNameArr[i] : (removeNames + " " + classNameArr[i]);
			}
		}
		return removeNames;
	});
};

/** 获取网址路径 **/
function getPath(){
	var pathname = '/'+window.location.pathname.split('/')[1]+'/';
	var path = window.location.href.split(pathname)[0] + pathname;
	return path;
}

/** 判断浏览器 **/
function isBrowser() {
    var Sys = {};
    var ua=navigator.userAgent.toLowerCase();
    var s;
    (s=ua.match(/msie\s([\d.]+)/))?Sys.ie=s[1]:
    (s=ua.match(/trident.*rv:([\d.]+)/))?Sys.ie=s[1]:
    (s=ua.match(/firefox\/([\d.]+)/))?Sys.firefox=s[1]:
    (s=ua.match(/chrome\/([\d.]+)/))?Sys.chrome=s[1]:
    (s=ua.match(/opera.([\d.]+)/))?Sys.opera=s[1]:
    (s=ua.match(/version\/([\d.]+).*safari/))?Sys.safari=s[1]:0;
    //alert(JSON.stringify(Sys));
    return Sys;
/*	if(isBrowser().ie){//Js判断为IE浏览器
		alert(isBrowser().ie + " IE_have");
		if(isBrowser().ie=='9.0'){//Js判断为IE 9
			alert(isBrowser().ie + " IE_9.0");
		}else if(isBrowser().ie=='8.0'){//Js判断为IE 8
			alert(isBrowser().ie + " IE_8.0");
		}else{
			alert(isBrowser().ie + " IE_other");
		}
	}
	if(isBrowser().firefox){//Js判断为火狐(firefox)浏览器
		alert(isBrowser().firefox + " firefox");
	}
	if(isBrowser().chrome){//Js判断为谷歌chrome浏览器
		alert(isBrowser().chrome + " chrome");
	}
	if(isBrowser().opera){//Js判断为opera浏览器
		alert(isBrowser().opera + " opera");
	}
	if(isBrowser().safari){//Js判断为苹果safari浏览器
		alert(isBrowser().safari + " safari");
	}*/
}

/** 判断显示设备 **/
function fBrowserRedirect(){
	var sUserAgent=navigator.userAgent.toLowerCase();
	var bIsIpad=sUserAgent.match(/ipad/i)=="ipad";
	var bIsIphoneOs=sUserAgent.match(/iphone os/i)=="iphone os";
	var bIsMidp=sUserAgent.match(/midp/i)=="midp";
	var bIsUc7=sUserAgent.match(/rv:1.2.3.4/i)=="rv:1.2.3.4";
	var bIsUc=sUserAgent.match(/ucweb/i)=="ucweb";
	var bIsAndroid=sUserAgent.match(/android/i)=="android";
	var bIsCE=sUserAgent.match(/windows ce/i)=="windows ce";
	var bIsWM=sUserAgent.match(/windows mobile/i)=="windows mobile";
	if (bIsIpad||bIsIphoneOs||bIsAndroid||bIsMidp||bIsUc7||bIsUc||bIsCE||bIsWM) {
		return true;
	}
	return false;
}